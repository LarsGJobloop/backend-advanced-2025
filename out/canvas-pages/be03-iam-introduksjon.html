<h1 id="introduksjon-til-identitet-og-tilgangsstyring">
  Introduksjon til Identitet og Tilgangsstyring
</h1>
<p>
  IAM (Identity and Access Management) handler om hvordan systemer vet
  <strong>hvem du er</strong>, <strong>hva du kan gjøre</strong>, og
  <strong>hvorfor de stoler på deg</strong>.<br />
  Denne økten etablerer grunnlaget for forståelsen av identitet, legitimasjon og
  tillit, både i fysiske og digitale systemer.
</p>
<h2 id="teori">Teori</h2>
<h3 id="identitet-og-tillit-i-praksis">Identitet og tillit i praksis</h3>
<p>
  For å forstå identitet i digitale systemer, starter vi med et konkret
  eksempel:<br />
  Ved en <strong>trafikkontroll</strong> må du bevise at du er deg (førerkort),
  at du har lov til å kjøre kjøretøyet (vognkort), og at begge dokumentene er
  gyldige og utstedt av en <strong>autoritativ kilde</strong> (Statens Vegvesen,
  Politiet).<br />
  Dette danner et bilde av <strong>autentisering (bevise hvem du er)</strong> og
  <strong>autorisasjon (hva du får lov til)</strong>.
</p>
<h3 id="digitale-analoger">Digitale analoger</h3>
<p>I digitale systemer er disse dokumentene erstattet av elektroniske bevis:</p>
<ul>
  <li>
    <strong>Fødselsattest / Pass</strong> → Sertifikater og signaturer (f.eks.
    CA, X.509)
  </li>
  <li>
    <strong>Førerkort / BankID</strong> → eID-tjenester og
    Identytelsesleverandører (IdP)
  </li>
  <li>
    <strong>Vognkort / medlemskort</strong> → JSON Web Tokens (JWTs) og OAuth
    2.0-tokens
  </li>
</ul>
<p>Når en applikasjon mottar et <strong>JWT</strong>, validerer den:</p>
<ol type="1">
  <li><strong>Header</strong> – signaturalgoritme og nøkkel-ID</li>
  <li>
    <strong>Payload</strong> – påstander (<em>Claims</em>) om identitet, rolle
    eller rettigheter
  </li>
  <li>
    <strong>Signature</strong> – kryptografisk bevis på at innholdet ikke er
    manipulert
  </li>
</ol>
<p>
  Dette gir grunnlaget for tillit i distribuerte systemer uten sentral kontroll.
</p>
<h3 id="autoriteter-og-tillit">Autoriteter og tillit</h3>
<p>Tillit i IAM bygges opp gjennom <strong>kjeder av autoritet</strong>:</p>
<ul>
  <li>Offentlige: BankID, eIDAS, Skatteetaten</li>
  <li>Private: Google, GitHub, Microsoft Entra ID</li>
</ul>
<p>
  Systemer må definere <strong>hvilke autoriteter de stoler på</strong>, og
  hvilke mekanismer som brukes for å bekrefte deres signaturer.<br />
  Til slutt er tillit alltid <strong>relasjonell</strong>, den eksisterer mellom
  aktører, ikke som en egen entitet.
</p>
<h2 id="konkretisering">Konkretisering</h2>
<h3 id="hva-hvor-når-blir-dette-brukt">Hva, hvor, når blir dette brukt?</h3>
<p>IAM ligger i kjernen av nesten all moderne programvare:</p>
<ul>
  <li>Når du <strong>logger inn med Google</strong> på en ekstern nettside.</li>
  <li>
    Når en <strong>API-gateway</strong> sjekker et Access Token før et kall.
  </li>
  <li>
    Når en <strong>bedrift håndterer roller og rettigheter</strong> i Microsoft
    Entra ID.
  </li>
  <li>
    Når <strong>GitHub</strong> bestemmer om du kan “push” til et repository.
  </li>
</ul>
<p>
  Dette gjør IAM fundamentalt for både sikkerhet, brukervennlighet og drift.
</p>
<h3 id="eksempler-og-øvelser">Eksempler og øvelser</h3>
<ul>
  <li>
    <p>
      Inspiser et JWT på <a href="https://jwt.io">jwt.io</a><br />
      → Finn <code>Header</code>, <code>Payload</code>, <code>Signature</code
      ><br />
      → Diskuter forskjellen mellom <em>Claims</em> (hva tokenet sier) og
      <em>Scopes</em> (hva det gir tilgang til)
    </p>
  </li>
  <li>
    <p>I en .NET handler:</p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode csharp"
      ><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> token <span class="op">=</span> HttpContext<span class="op">.</span><span class="fu">Request</span><span class="op">.</span><span class="fu">Headers</span><span class="op">[</span><span class="st">&quot;Authorization&quot;</span><span class="op">];</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> handler <span class="op">=</span> <span class="kw">new</span> <span class="fu">JwtSecurityTokenHandler</span><span class="op">();</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> jwt <span class="op">=</span> handler<span class="op">.</span><span class="fu">ReadJwtToken</span><span class="op">(</span>token<span class="op">);</span></span></code></pre>
    </div>
  </li>
</ul>
<h3 id="eksterne-lenker">Eksterne lenker</h3>
<ul>
  <li><a href="https://jwt.io">JWT.io – Debugger og dokumentasjon</a></li>
  <li>
    <a
      href="https://learn.microsoft.com/en/dotnet/api/system.identitymodel.tokens.jwt"
      >Microsoft – System.IdentityModel.Tokens.Jwt</a
    >
  </li>
  <li>
    <a href="https://pages.nist.gov/800-63-3/"
      >NIST – Digital Identity Guidelines</a
    >
  </li>
</ul>
<h2 id="videre-lesing">Videre lesing</h2>
<ul>
  <li>
    <strong>OAuth 2.0</strong> – hvordan tillit overføres mellom systemer.
  </li>
  <li>
    <strong>OpenID Connect</strong> – hvordan identitet bygges på toppen av
    OAuth.
  </li>
  <li>
    <strong>“The Path to Zero Trust” (Microsoft Learn)</strong> – forstå hvordan
    identitet blir et kontrollpunkt i moderne arkitektur.
  </li>
</ul>
<h2 id="referanse-liste">Referanse liste</h2>
<ul>
  <li>
    <a href="https://datatracker.ietf.org/doc/html/rfc7519"
      >RFC 7519 – JSON Web Token (JWT)</a
    >
  </li>
  <li>
    <a href="https://datatracker.ietf.org/doc/html/rfc6749"
      >RFC 6749 – OAuth 2.0 Authorization Framework</a
    >
  </li>
  <li>
    <a href="https://pages.nist.gov/800-63-3/"
      >NIST SP 800-63-3 – Digital Identity Guidelines</a
    >
  </li>
</ul>
