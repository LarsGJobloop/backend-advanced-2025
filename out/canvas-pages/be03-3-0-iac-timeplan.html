<h1 id="timeplan">Timeplan</h1>
<blockquote>
  <p>
    For instruktører: Undervisnings øktene er delt opp i Teori med Praksis ca
    50/50. Mink andelen teori, ikke praksis. For noen deler kan det være nok med
    30 minutter teori/bakgrunn og 90 minutter praksis, legg inn 3-4 pauser.
  </p>
</blockquote>
<p>
  Denne uken arbeider du med Infrastruktur som kode gjennom en kombinasjon av
  teori og praksis.
</p>
<h2 id="infrastruktur-som-kode-infrastructure-as-code-iac">
  Infrastruktur som Kode (Infrastructure as Code, IaC)
</h2>
<blockquote>
  <p>
    For instruktører: IaC er noe problemematisk å lære uten faktisk
    infrastruktur å jobbe med. Lokal ansvarlige bør få mulighet til å hente ut
    nøkkler fra Hetzner kontoen som de kan administrere for sine lokale
    deltakere. Viss umulig, så kan en benytte IaC til å administrere GitHub
    repoer (eller andre SaaS produkter), for å lære grunnleggende IaC konsepter.
  </p>
</blockquote>
<h3 id="iac---intro">1. IaC - Intro</h3>
<h4 id="teori">Teori</h4>
<p>Du vil lære om:</p>
<ul>
  <li>Hva versjonskontroll er og hvorfor det er viktig (Git)</li>
  <li>
    Reproduserbarhet som en forutsetning for verifikasjon/kvalitetssikring
  </li>
  <li>
    Hvordan moderne sky leverandører leverer APIer for å bestille og konfigurere
    produkter
  </li>
  <li>IaC som bestilling/konfigurasjonen, Terraform CLI som aktøren</li>
  <li>
    Alternativer: OpenTofu som FOSS fork, Pulumi som programmeringspråk “SDK”,
    REST/GraphQL som rå alternativer
  </li>
</ul>
<h4 id="implementasjon">Implementasjon</h4>
<p>Du skal:</p>
<ul>
  <li>Sette opp og laste opp SSH nøkkel (ikke bruk passord)</li>
  <li>Sette opp en Hetzner maskin gjennom deres Web GUI</li>
  <li>Logge på via SSH og navigere rundt via terminalen</li>
  <li>Gå gjennom stegene manuelt for å sette opp Git og .NET</li>
  <li>Starte serveren på 0.0.0.0</li>
  <li>Gå inn på serverens IP og sjekke at alt fungerer</li>
</ul>
<h3 id="iac---cloud-init">2. IaC - Cloud Init</h3>
<h4 id="teori-1">Teori</h4>
<p>Du vil:</p>
<ul>
  <li>
    Repetere reproduserbarhet og se hvordan imperativ installasjon via SSH ikke
    er (enkelt) gjentakbar
  </li>
  <li>
    Lære om Cloud Init som en standardisering av <em>Bootstrap</em> prosessen
  </li>
</ul>
<h4 id="implementasjon-1">Implementasjon</h4>
<blockquote>
  <p>
    For instruktører: Ta små steg, og <code>terraform destroy</code> -&gt;
    <code>terraform apply</code> etter hver endring.
  </p>
</blockquote>
<p>Du skal:</p>
<ul>
  <li>
    Gå gjennom å sette opp en server som installerer og setter opp Git, .NET og
    Docker Compose
  </li>
  <li>
    Legge til kloning av repoet og starting av Docker Compose manifestet ved
    oppstart
  </li>
</ul>
<h3 id="iac---moduler">3. IaC - Moduler</h3>
<h4 id="teori-2">Teori</h4>
<p>Du vil:</p>
<ul>
  <li>Lære om modularisering av kode</li>
  <li>Lære om Terraform moduler som infrastruktur moduler</li>
</ul>
<h4 id="implementasjon-2">Implementasjon</h4>
<p>Du skal:</p>
<ul>
  <li>Dra ut <code>Hetzner Compose App Server</code> i en egen modul</li>
  <li>
    Parameterisere modulen
    <ul>
      <li><code>variable</code></li>
      <li><code>output</code></li>
      <li>Dokumentasjon og <strong>sensitivitet</strong></li>
    </ul>
  </li>
  <li>
    Hvis tid tillater, oppgradere Cloud Init med et rekonsilierings skript
    (<code>systemd</code> er enklest på Debian)
  </li>
</ul>
