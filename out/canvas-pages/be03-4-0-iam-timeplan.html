<h1 id="timeplan---identity-and-access-management-iam">
  Timeplan - Identity and Access Management (IAM)
</h1>
<blockquote>
  <p>
    For instruktører: Undervisningen er delt i tre økter på 2 timer. Ca. 30-40
    min teori per økt, resten praksis og diskusjon. Legg inn 3-4 korte pauser,
    helst i overgangene mellom teori og praksis.
  </p>
</blockquote>
<p>
  Denne uken arbeider du med identitet og tilgangsstyring gjennom en kombinasjon
  av teori og praksis.
</p>
<h2 id="økt-1---identitet-legitimasjon-og-tillit">
  Økt 1 - Identitet, legitimasjon og tillit
</h2>
<blockquote>
  <p>
    For instruktører: Bruk konkrete, sansbare eksempler - trafikkontroll
    fungerer godt. Hjelp studentene å forstå at “identitet” og “autoritet”
    alltid er relasjonelle konsepter.
  </p>
</blockquote>
<h3 id="teori">Teori</h3>
<p>Du vil lære om:</p>
<ul>
  <li>
    Hvordan systemer etablerer identitet og tillit:
    <ol type="1">
      <li>
        Trafikkontroll: førerkort og vognkort → autoriteter (f.eks. Statens
        Vegvesen, Politiet)
      </li>
      <li>Legitimasjon i digital sammenheng: Pass → CA, JWT → Signatur</li>
    </ol>
  </li>
  <li>
    Legitimasjonstyper:
    <ul>
      <li>Fødselsattest, pass, BankID, penger, førerkort</li>
      <li>
        Digitale analoger: JSON Web Token, sertifikater, OAuth-leverandører
      </li>
    </ul>
  </li>
  <li>
    Autoriteter:
    <ul>
      <li>Offentlige: BankID, eID</li>
      <li>Private: Google, GitHub, Microsoft Entra ID</li>
    </ul>
  </li>
  <li>Hvorfor tillit er kjernen i IAM</li>
</ul>
<h3 id="praksis">Praksis</h3>
<p>Du skal:</p>
<ul>
  <li>
    Bruke <a href="https://jwt.io">jwt.io</a> til å inspisere et eksempel JWT
  </li>
  <li>
    Identifisere <code>header</code>, <code>payload</code>,
    <code>signature</code>
  </li>
  <li>Diskutere forskjellen på <code>Claims</code> og <code>Scopes</code></li>
  <li>
    Demonstrer i .NET:
    <ul>
      <li>
        Lese et token fra
        <code>HttpContext.Request.Headers["Authorization"]</code>-headeren
      </li>
      <li>
        Parse det med <code>System.IdentityModel.Tokens.Jwt</code>-biblioteket
      </li>
    </ul>
  </li>
</ul>
<h3 id="refleksjon">Refleksjon</h3>
<p>Du skal reflektere over:</p>
<ul>
  <li>Hvordan beviser et system at det er “deg” eller “en person”?</li>
  <li>Hvor kommer egentlig tilliten fra?</li>
</ul>
<h2 id="økt-2---oauth-2.0-og-github-cli-autentisering">
  Økt 2 - OAuth 2.0 og GitHub CLI-autentisering
</h2>
<p>
  <strong>Mål:</strong> Du skal forstå og implementere en fungerende
  GitHub-OAuth-flyt i en .NET-CLI.
</p>
<h3 id="teori-1">Teori</h3>
<p>Du vil lære om:</p>
<ul>
  <li>
    OAuth 2.0 - rollene og flyten:
    <ul>
      <li>Resource Owner, Client, Authorization Server, Resource Server</li>
    </ul>
  </li>
  <li>
    Authorization Code Flow:
    <ul>
      <li>Bruker gir samtykke → kode → token → tilgang</li>
    </ul>
  </li>
  <li>Consent og scopes - hvordan GitHub definerer hva en app får gjøre</li>
  <li>
    Hvorfor OAuth ikke i seg selv håndterer identitet (men kan kombineres med
    OpenID Connect for det)
  </li>
</ul>
<h3 id="praksis-1">Praksis</h3>
<p>Du skal:</p>
<ul>
  <li>Registrere en GitHub OAuth-app</li>
  <li>
    Sette opp <code>Redirect URI</code>, <code>Client ID</code>,
    <code>Client Secret</code>
  </li>
  <li>
    Implementere i .NET CLI:
    <ol type="1">
      <li>Åpne Authorization URL i nettleser</li>
      <li>
        Motta <code>Authorization Code</code> via
        <code>localhost</code> callback
      </li>
      <li>Bytte code → token</li>
      <li>
        Kalle GitHub API (<code>https://api.github.com/user/repos</code>) med
        <code>Authorization: Bearer &lt;token&gt;</code>
      </li>
    </ol>
  </li>
  <li>Diskutere hva som skjer under panseret (HTTP flows, consent, tokens)</li>
</ul>
<h3 id="ressurser">Ressurser</h3>
<ul>
  <li>
    <a href="https://docs.github.com/en/apps/oauth-apps/building-oauth-apps"
      >GitHub OAuth Apps Documentation</a
    >
  </li>
  <li>
    <a
      href="https://learn.microsoft.com/en/dotnet/api/system.net.http.httpclient"
      >.NET HttpClient for OAuth flows (Microsoft Docs)</a
    >
  </li>
</ul>
<h3 id="refleksjon-1">Refleksjon</h3>
<p>Du skal reflektere over:</p>
<ul>
  <li>Hva er forskjellen på “Autentisering” og “Autorisasjon” her?</li>
  <li>Hvilke data stoler GitHub egentlig på?</li>
</ul>
<h2 id="økt-3---tilgangsstyring-i-praksis">
  Økt 3 - Tilgangsstyring i praksis
</h2>
<blockquote>
  <p>
    For instruktører: Denne økten holdes hovedsakelig som samtale, analyse og
    demonstrasjon. Unngå ny kode, la studentene bruke observasjon og refleksjon
    for å lære.
  </p>
</blockquote>
<h3 id="teori-2">Teori</h3>
<p>Du vil lære om:</p>
<ul>
  <li>
    RBAC (Role Based Access Control)<br />
    Roller → rettigheter (f.eks. “admin”, “member”)
  </li>
  <li>
    ABAC (Attribute Based Access Control)<br />
    Beslutning basert på attributter (tid, sted, eierskap)
  </li>
  <li>
    PBAC (Policy Based Access Control)<br />
    Regler og policies (eks. GitHubs team- og org-policies)
  </li>
  <li>
    ReBAC (Relationship Based Access Control)<br />
    Relasjoner styrer tilgang (eks. Discord-serverroller eller
    GitHub-repo-tilganger)
  </li>
</ul>
<h3 id="demonstrasjon-diskusjon">Demonstrasjon / Diskusjon</h3>
<p>Du skal:</p>
<ul>
  <li>
    Analysere Discord som et IAM-system:
    <ul>
      <li>Roller, attributter og tillatelser</li>
      <li>Hvem eier ressursene, og hvem setter policyene?</li>
    </ul>
  </li>
  <li>
    Se på GitHub org-nivå:
    <ul>
      <li>Hvordan RBAC + PBAC kombineres (teams + repository-innstillinger)</li>
    </ul>
  </li>
  <li>
    Diskutere hvordan disse prinsippene ville sett ut i en egen applikasjon
  </li>
</ul>
<h3 id="ressurser-1">Ressurser</h3>
<ul>
  <li>
    <a href="https://discord.com/developers/docs/topics/permissions"
      >Discord Developer Docs – Permissions &amp; Roles</a
    >
  </li>
  <li>
    <a
      href="https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories"
      >GitHub Docs – Managing Access to Repositories</a
    >
  </li>
  <li>
    <a href="https://csrc.nist.gov/publications/detail/sp/800-192/final"
      >NIST – Access Control Models</a
    >
  </li>
</ul>
<h3 id="refleksjon-2">Refleksjon</h3>
<p>Du skal reflektere over:</p>
<ul>
  <li>Hvordan kan en policy beskrives som kode?</li>
  <li>Hvilke kompromisser ser du mellom fleksibilitet og sikkerhet?</li>
</ul>
<h2 id="struktur-for-hver-økt">Struktur for hver økt</h2>
<table>
  <thead>
    <tr>
      <th>Tid</th>
      <th>Innhold</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0–30 min</td>
      <td>Teori / introduksjon</td>
    </tr>
    <tr>
      <td>30–90 min</td>
      <td>Praksis, demo eller observasjonsøvelse</td>
    </tr>
    <tr>
      <td>90–105 min</td>
      <td>Pause og spørsmål</td>
    </tr>
    <tr>
      <td>105–120 min</td>
      <td>Oppsummering / refleksjon</td>
    </tr>
  </tbody>
</table>
<h2 id="kort-oppsummering">Kort oppsummering</h2>
<p>
  Uke 4 avslutter modulen ved å binde sammen utviklingspraksis og sikkerhet:<br />
  fra hvordan identitet etableres, til hvordan autorisasjon håndheves i
  distribuerte systemer.<br />
  Du skal <strong>forstå IAM som konsept</strong> og
  <strong>beherske en fungerende OAuth-flow i .NET</strong> – nok til å bygge
  videre på dette i egne prosjekter.
</p>
